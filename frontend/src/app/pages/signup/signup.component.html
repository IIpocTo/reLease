<h1>Sign up</h1>

<form [formGroup]="userForm" (submit)="onSubmit(userForm.value)" novalidate>

    <div class="form-group" [class.has-danger]="!login.valid && login.touched">
        <label class="col-form-label" for="loginInput">Login</label>
        <input type="text" class="form-control form-control-danger" id="loginInput"
               placeholder="Login" maxlength="30" formControlName="login"/>
        <div *ngIf="login.hasError('required') && login.touched" class="form-control-feedback">
            Login is required
        </div>
        <div *ngIf="login.hasError('minlength') && login.touched" class="form-control-feedback">
            Login must be longer than 4 chars
        </div>
    </div>

    <div class="form-group" [class.has-danger]="!email.valid && email.touched">
        <label class="col-form-label" for="emailInput">Email</label>
        <input type="email" class="form-control form-control-danger" id="emailInput"
               placeholder="Email" maxlength="100" formControlName="email"/>
        <div *ngIf="email.hasError('required') && email.touched" class="form-control-feedback">
            Email is required
        </div>
        <div *ngIf="email.hasError('pattern') && email.touched" class="form-control-feedback">
            Invalid format
        </div>
    </div>

    <div class="form-group" [class.has-danger]="!password.valid && password.touched">
        <label class="col-form-label" for="passwordInput">Password</label>
        <input type="text" class="form-control form-control-danger" id="passwordInput"
               placeholder="Password" maxlength="100" formControlName="password"/>
        <div *ngIf="password.hasError('required') && password.touched" class="form-control-feedback">
            Login is required
        </div>
        <div *ngIf="password.hasError('minlength') && password.touched" class="form-control-feedback">
            Password must be longer than 8 chars.
        </div>
    </div>

    <div class="form-group" [class.has-danger]=
            "(!passwordConfirmation.valid || userForm.hasError('unmatched')) && passwordConfirmation.touched">
        <label class="col-form-label" for="passwordConfirmationInput">Confirm Password</label>
        <input type="text" class="form-control form-control-danger" id="passwordConfirmationInput"
               placeholder="Confirm Password" maxlength="100" formControlName="passwordConfirmation"/>
        <div *ngIf="passwordConfirmation.hasError('required') && passwordConfirmation.touched"
             class="form-control-feedback">
            Password confirmation is required
        </div>
        <div *ngIf="userForm.hasError('unmatched') && passwordConfirmation.touched"
             class="form-control-feedback">
            Passwords doesn't match
        </div>
    </div>

    <button type="submit" class="btn btn-lg btn-primary">Submit</button>

</form>